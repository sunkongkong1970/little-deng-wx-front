# PRD 文档

## 一、项目概述

### 1.1 项目目标

基于微信小程序设计规范，使用 TDesign 组件库开发一款亲子类小程序，实现家庭管理、宝宝信息管理、成长记录分享等核心功能，提供温馨亲子风格的用户界面与流畅的交互体验。

### 1.2 技术规范



*   **设计组件库**：采用 TDesign for 微信小程序组件库，确保组件风格统一与交互一致性

*   **适配标准**：默认屏幕宽度 375px，支持自适应布局，以 iPhone 16 为设计模板

*   **页面格式**：所有页面以 HTML 格式开发，统一整合至`index.html`，各页面相关文件存放于独立文件夹

*   **导航规范**：顶部统一使用微信原生导航栏（含返回按钮、页面标题）；底部 tabBar 仅在 “宝宝”“应用”“时光”“我的” 页面显示

## 二、基础规范与通用交互

### 2.1 尺寸与适配



*   页面容器宽度默认 375px，高度自适应设备屏幕

*   组件间距、字体大小遵循 TDesign 设计规范，关键元素尺寸如下：


    *   按钮高度：默认 44px，圆角 8px

    *   输入框高度：默认 40px，圆角 6px

    *   列表项高度：默认 50px

    *   图标尺寸：功能图标默认 24px×24px，tabBar 图标默认 28px×28px

### 2.2 状态展示要求

需分别展示以下差异化状态页面，避免混淆：



*   用户类型差异：特殊用户（家庭创建者）、普通用户

*   宝宝信息差异：有宝宝、无宝宝

*   交互状态差异：按钮 hover 态（背景色加深 10%）、禁用态（背景色 #F2F2F2，文字色 #CCCCCC）、输入框聚焦态（边框色 #FF6B6B）

### 2.3 通用交互流程



*   授权 / 弹窗交互：触发弹窗→用户选择→系统反馈（成功 / 失败提示）

*   页面跳转：所有跳转需标注触发条件（如 “点击按钮→跳转至 XX 页”），返回操作通过顶部导航栏 “返回” 按钮实现

*   数据同步：特殊用户修改 tabBar 文字、宝宝信息等内容后，需同步至所有家庭成员账号

## 三、分页面详细设计

### 3.1 授权登录页（文件夹：/pages/authLogin）

#### 3.1.1 页面场景

用户首次打开小程序的入口页面，用于获取微信授权以完成登录

#### 3.1.2 核心元素（基于 TDesign 组件）



| 元素类型    | 组件选择     | 具体配置                                                              |
| ------- | -------- | ----------------------------------------------------------------- |
| 品牌 Logo | t-image  | 尺寸 80px×80px，居中展示，src 指向亲子主题图标                                    |
| 欢迎文案    | t-text   | 内容 “欢迎使用 XX 小程序，登录后即可管理家庭与宝宝信息”，字体 14px，颜色 #333333，居中             |
| 授权按钮    | t-button | 类型：primary；文字 “微信授权登录”；左侧带微信 Logo（20px×20px）；宽度 280px；背景色 #07C160 |
| 授权说明    | t-text   | 内容 “登录将获取您的微信昵称、头像及 openid，用于身份识别”，字体 12px，颜色 #999999，居中          |

#### 3.1.3 交互逻辑



1.  页面加载时，自动居中展示所有元素

2.  点击 “微信授权登录” 按钮：

*   触发模拟微信原生授权弹窗（使用 t-dialog 组件，标题 “授权请求”，内容 “是否允许小程序获取您的微信昵称、头像？”，含 “允许”“拒绝” 按钮）

*   点击 “允许”：授权成功，跳转至 “家庭初始选择页”（/pages/familySelect）

*   点击 “拒绝”：授权失败，显示 t-toast 提示 “请授权以继续使用小程序”，保留授权按钮供重新点击

### 3.2 家庭初始选择页（文件夹：/pages/familySelect）

#### 3.2.1 页面场景

用户完成授权后，选择 “添加家庭” 或 “加入家庭” 的入口页面

#### 3.2.2 核心元素（基于 TDesign 组件）



| 元素类型   | 组件选择               | 具体配置                                                                                                               |
| ------ | ------------------ | ------------------------------------------------------------------------------------------------------------------ |
| 页面标题   | 微信原生导航栏            | 文字 “选择家庭方式”，左侧带返回按钮                                                                                                |
| 加入家庭模块 | t-input + t-button | - t-input：提示文字 “请输入家庭邀请码”，宽度 220px， placeholder 色 #CCCCCC- t-button：文字 “加入家庭”，宽度 100px，默认禁用（输入框为空时），启用时背景色 #FF6B6B |
| 添加家庭模块 | t-button           | 文字 “添加家庭”，宽度 335px（占页面 89%），背景色 #FF6B6B，位于 “加入家庭” 模块下方 15px                                                        |

#### 3.2.3 交互逻辑



1.  输入框交互：当 t-input 内容长度≥6 时（假设邀请码为 6 位），“加入家庭” 按钮自动启用；内容为空时禁用

2.  按钮点击：

*   点击 “加入家庭”/“添加家庭” 按钮，均跳转至 “用户角色与信息设置页”（/pages/roleSetting）

*   点击顶部返回按钮，返回至 “授权登录页”

### 3.3 用户角色与信息设置页（文件夹：/pages/roleSetting）

#### 3.3.1 页面场景

用户选择家庭方式后，完善个人头像、昵称与角色的设置页面

#### 3.3.2 核心元素（基于 TDesign 组件）



| 元素类型  | 组件选择             | 具体配置                                                                                                  |
| ----- | ---------------- | ----------------------------------------------------------------------------------------------------- |
| 页面标题  | 微信原生导航栏          | 文字 “完善个人信息”，左侧带返回按钮                                                                                   |
| 头像设置区 | t-image + t-text | - t-image：圆形，直径 80px，初始 src 为微信默认头像，border-radius 50%- t-text：文字 “点击更换头像”，字体 12px，颜色 #999999，位于头像下方居中 |
| 昵称输入框 | t-input          | 默认值为微信昵称，提示文字 “请输入您的昵称”，宽度 300px（占页面 80%）                                                             |
| 角色选择  | t-select         | 默认显示 “请选择角色”，下拉选项仅 “爸爸”“妈妈”；宽度 300px，下拉面板样式遵循 TDesign                                                 |
| 保存按钮  | t-button         | 文字 “保存信息”，宽度 300px，背景色 #FF6B6B，默认禁用（昵称空或未选角色时）                                                        |

#### 3.3.3 交互逻辑



1.  头像更换：

*   点击圆形头像，弹出 t-action-sheet（底部操作列表），含 “使用微信头像”“从相册中选择” 选项，背景遮罩透明度 0.5

*   选择 “使用微信头像”：t-image src 更新为微信头像

*   选择 “从相册中选择”：触发微信原生相册选择（原型中模拟，选择后更新头像）

1.  保存交互：

*   当昵称输入框有内容且角色已选择时，“保存信息” 按钮启用

*   点击 “保存信息”：


    *   若来源为 “添加家庭”：跳转至 “宝宝页面”（/pages/baby）

    *   若来源为 “加入家庭”：模拟邀请码验证（成功后跳转至 “宝宝页面”，失败则显示 t-toast“邀请码无效，请重新输入”）

### 3.4 宝宝页面（文件夹：/pages/baby）

#### 3.4.1 页面场景

底部 tabBar 首页，核心展示宝宝信息，区分 “有宝宝”“无宝宝” 两种状态，且根据用户类型（特殊 / 普通）显示不同 tabBar

#### 3.4.2 基础配置



*   **tabBar 设置**：


    *   特殊用户（家庭创建者）：tabBar 显示 “宝宝”“应用”“时光”“我的”，右上角含 “编辑” 按钮（t-icon，类型 “edit”，尺寸 20px）

    *   普通用户：tabBar 仅显示 “宝宝”“时光”“我的”，无 “编辑” 按钮

    *   tabBar 文字同步：特殊用户点击 “编辑” 按钮，弹出 t-input 弹窗修改 “宝宝” tab 文字，保存后所有家庭成员可见更新后文字

#### 3.4.3 核心元素（分状态）

##### 状态 1：无宝宝



| 元素类型   | 组件选择                     | 具体配置                                                                                                                                                |
| ------ | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| 页面标题   | 微信原生导航栏                  | 文字 “宝宝”，无返回按钮（首页）                                                                                                                                   |
| 添加宝宝区域 | t-view + t-icon + t-text | - t-view：矩形虚线框，200px×200px，border 2px dashed #CCCCCC，居中- t-icon：“plus” 类型，尺寸 40px，颜色 #FF6B6B，位于虚线框居中- t-text：文字 “添加宝宝”，字体 16px，颜色 #333333，位于虚线框上方居中 |

##### 状态 2：有宝宝



| 元素类型  | 组件选择                     | 具体配置                                                                                                                                                                                                                                            |
| ----- | ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 页面标题  | 微信原生导航栏                  | 文字 “宝宝”，无返回按钮                                                                                                                                                                                                                                   |
| 宝宝照片区 | t-image                  | 矩形，200px×200px，border 1px solid #CCCCCC，照片居中填充（cover 模式），支持点击放大                                                                                                                                                                                 |
| 宝宝信息区 | t-view + t-text + t-icon | - 容器：t-view，宽度 200px，背景色 #FFF5E6（浅米色），padding 10px- 姓名：t-text，字体 18px，加粗，颜色 #333333- 性别：t-text + t-icon，文字 “男宝 / 女宝”，图标 “male/female”，颜色 #4A90E2/#FF6B6B- 出生日期：t-text，格式 “YYYY-MM-DD”，字体 12px，颜色 #999999- 编辑按钮：t-icon，类型 “edit”，尺寸 20px，位于信息区右侧 |

#### 3.4.4 交互逻辑



1.  无宝宝状态：点击虚线框或 “添加宝宝” 文字，弹出 t-dialog（标题 “添加宝宝”，内容含 “上传宝宝照片”“填写宝宝信息” 两个 t-button 选项）

2.  有宝宝状态：

*   点击宝宝照片：使用 t-image-viewer 组件放大查看照片

*   点击 “编辑” 图标：跳转至 “宝宝信息编辑页”（/pages/babyEdit）

1.  tabBar 编辑（仅特殊用户）：点击右上角 “编辑” 按钮，弹出 t-input 弹窗（提示文字 “请输入 tab 文字”），输入后点击 “确认” 同步更新所有成员 tabBar 文字

### 3.5 应用页面（文件夹：/pages/app）

#### 3.5.1 页面场景

仅特殊用户可见的 tabBar 子页，展示宝宝管理相关功能入口，采用网格布局

#### 3.5.2 核心元素（基于 TDesign 组件）



| 元素类型   | 组件选择                 | 具体配置                                                                                                                                                                                                           |
| ------ | -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 页面标题   | 微信原生导航栏              | 文字 “应用中心”，左侧带返回按钮（返回至 “宝宝页面”）                                                                                                                                                                                  |
| 功能分类标题 | t-text               | 文字 “宝宝管理”，字体 16px，加粗，颜色 #333333，margin-left 15px                                                                                                                                                               |
| 功能入口网格 | t-grid + t-grid-item | - 布局：2 列，间距 15px，padding 15px- 网格项：t-grid-item，含 t-icon（60px×60px，圆形，背景色柔和色系如 #FFE6E6、#E6F7FF）+ t-text（功能名称，14px，居中）- 功能列表：“成长记录”（图标 “calendar”）、“疫苗提醒”（图标 “syringe”）、“身高体重”（图标 “scale”）、“辅食推荐”（图标 “utensils”） |

#### 3.5.3 交互逻辑



*   点击任意 t-grid-item：跳转至对应功能页，需在原型中标注跳转指向（如 “点击→成长记录页（/pages/growth）”）

*   点击顶部返回按钮：返回至 “宝宝页面”

### 3.6 时光页面（文件夹：/pages/moment）

#### 3.6.1 页面场景

复刻微信朋友圈的 tabBar 子页，支持发布、查看家庭动态，分为 “发布区” 与 “动态列表区”

#### 3.6.2 核心元素（基于 TDesign 组件）

##### 1. 发布区



| 元素类型   | 组件选择                          | 具体配置                                                                                                                                                      |
| ------ | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 发布入口   | t-avatar + t-input + t-button | - t-avatar：圆形，直径 36px，src 与 “我的” 页面头像一致- t-input：提示文字 “分享宝宝的美好时光...”，宽度 220px，placeholder 色 #CCCCCC- t-button：文字 “发布”，宽度 60px，默认禁用（输入框为空时），启用时背景色 #07C160 |
| 完整发布面板 | t-view + t-button             | 点击输入框后展开，含：- “上传图片”：t-button + t-icon（“image”），文字 “上传图片”- “选择位置”：t-button + t-icon（“map-marker”），文字 “选择位置”                                                |

##### 2. 动态列表区



| 元素类型  | 组件选择                 | 具体配置                                                                                                                                                                                                                                                                           |
| ----- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 动态项容器 | t-list + t-list-item | 每个动态为 t-list-item，包含：- 头像昵称：t-avatar（32px×32px）+ t-text（昵称，14px，加粗）- 发布内容：t-text（文字，14px）+ t-image（图片 1-9 张，1 列 1 张、2-3 列 2 张、4 列 2×2、5-9 列 3 列，间距 5px）- 操作栏：t-icon（“like”“comment”，尺寸 20px）+ t-text（发送时间，12px，#999999）+ 位置标签（t-icon “map-marker”+ 位置名，12px，#999999，仅发布时选位置显示） |

#### 3.6.3 交互逻辑



1.  发布交互：

*   输入框输入内容后，“发布” 按钮启用；清空内容后禁用

*   点击 “上传图片”：触发微信原生图片选择（1-9 张），选择后在输入框下方预览

*   点击 “选择位置”：触发微信原生位置选择，选择后记录位置信息

*   点击 “发布”：动态添加至列表顶部，清空输入框与预览图

1.  列表交互：

*   点击图片：使用 t-image-viewer 放大查看

*   点击 “like” 图标：切换选中状态（颜色 #FF6B6B），模拟点赞

*   点击 “comment” 图标：弹出 t-input 弹窗，输入评论后添加至动态下方

### 3.7 我的页面（文件夹：/pages/mine）

#### 3.7.1 页面场景

tabBar 子页，展示个人信息与功能列表，区分特殊用户与普通用户的列表项差异

#### 3.7.2 核心元素（基于 TDesign 组件）



| 元素类型  | 组件选择                       | 具体配置                                                                                                                                                                                                                                                                                                                                   |
| ----- | -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 个人信息区 | t-avatar + t-text + t-icon | - t-avatar：圆形，直径 60px，src 与 “角色设置页” 一致- 信息组：t-text（昵称，16px，加粗）+ t-tag（角色，12px，背景色 #FFE6E6/#E6F7FF，圆角 4px）- 编辑图标：t-icon（“edit”，20px），位于信息区右侧                                                                                                                                                                                            |
| 功能列表  | t-list + t-list-item       | - 列表样式：t-list-item，含 t-icon（24px）+ t-text（14px）+ t-icon（“arrow-right”，20px），padding 0 15px- 普通用户列表项：  1. “修改个人资料”（图标 “user-edit”）  2. “编辑宝宝简介”（图标 “baby-carriage”）  3. “关于我们”（图标 “info-circle”，文字色 #999999）  4. “帮助中心”（图标 “question-circle”，文字色 #999999）- 特殊用户额外列表项（位于 “编辑宝宝简介” 后）：  1. “家庭权限设置”（图标 “shield”）  2. “生成邀请码”（图标 “qrcode”） |

#### 3.7.3 交互逻辑



1.  个人信息交互：

*   点击 t-avatar：使用 t-image-viewer 放大查看头像

*   点击 “edit” 图标：跳转至 “修改个人资料页”（/pages/profileEdit）

1.  列表项交互：

*   点击 “修改个人资料”：跳转至 “修改个人资料页”

*   点击 “编辑宝宝简介”：跳转至 “宝宝信息编辑页”

*   点击 “家庭权限设置”：跳转至 “家庭权限页”（/pages/familyAuth，仅特殊用户）

*   点击 “生成邀请码”：跳转至 “邀请码页”（/pages/inviteCode，展示 t-image（二维码）+ t-text（邀请码文字）+ t-button（“保存图片”，触发保存二维码到相册），仅特殊用户）

*   点击 “关于我们”/“帮助中心”：跳转至对应静态页（/pages/about//pages/help）

## 四、页面跳转关系



| 来源页面         | 触发条件                  | 目标页面            |
| ------------ | --------------------- | --------------- |
| 授权登录页        | 点击 “微信授权登录”→允许        | 家庭初始选择页         |
| 家庭初始选择页      | 点击 “添加家庭”/“加入家庭”      | 用户角色与信息设置页      |
| 用户角色与信息设置页   | 点击 “保存信息”→来源为 “添加家庭”  | 宝宝页面            |
| 用户角色与信息设置页   | 点击 “保存信息”→来源为 “加入家庭”  | 宝宝页面（邀请码验证成功）   |
| 宝宝页面（无宝宝）    | 点击虚线框 /“添加宝宝”         | 宝宝信息编辑页（触发添加流程） |
| 宝宝页面（有宝宝）    | 点击 “编辑” 图标            | 宝宝信息编辑页         |
| 宝宝页面（特殊用户）   | 点击 “应用” tabBar        | 应用页面            |
| 应用页面         | 点击 “成长记录” 网格项         | 成长记录页           |
| 应用页面         | 点击 “疫苗提醒” 网格项         | 疫苗提醒页           |
| 任意 tabBar 页面 | 点击 “时光” tabBar        | 时光页面            |
| 任意 tabBar 页面 | 点击 “我的” tabBar        | 我的页面            |
| 我的页面         | 点击 “修改个人资料”/ 信息区 “编辑” | 修改个人资料页         |
| 我的页面（特殊用户）   | 点击 “生成邀请码”            | 邀请码页            |

## 五、文件目录结构



```
@prototype/

├── index.html                  # 统一整合所有页面的入口文件

├── pages/

│   ├── authLogin/              # 授权登录页相关文件

│   │   ├── authLogin.html      # 页面结构

│   │   ├── authLogin.js        # 交互逻辑

│   │   └── authLogin.css       # 样式文件

│   ├── familySelect/           # 家庭初始选择页相关文件

│   │   ├── familySelect.html

│   │   ├── familySelect.js

│   │   └── familySelect.css

│   ├── roleSetting/            # 用户角色与信息设置页相关文件

│   │   ├── roleSetting.html

│   │   ├── roleSetting.js

│   │   └── roleSetting.css

│   ├── baby/                   # 宝宝页面相关文件

│   │   ├── baby.html

│   │   ├── baby.js

│   │   └── baby.css

│   ├── app/                    # 应用页面相关文件

│   │   ├── app.html

│   │   ├── app.js

│   │   └── app.css

│   ├── moment/                 # 时光页面相关文件

│   │   ├── moment.html

│   │   ├── moment.js

│   │   └── moment.css

│   ├── mine/                   # 我的页面相关文件

│   │   ├── mine.html

│   │   ├── mine.js

│   │   └── mine.css

│   ├── babyEdit/               # 宝宝信息编辑页相关文件

│   │   ├── babyEdit.html

│   │   ├── babyEdit.js

│   │   └── babyEdit.css

│   ├── profileEdit/            # 修改个人资料页相关文件

│   │   ├── profileEdit.html

│   │   ├── profileEdit.js

│   │   └── profileEdit.css

│   ├── familyAuth/             # 家庭权限页相关文件

│   │   ├── familyAuth.html

│   │   ├── familyAuth.js

│   │   └── familyAuth.css

│   ├── inviteCode/             # 邀请码页相关文件

│   │   ├── inviteCode.html

│   │   ├── inviteCode.js

│   │   └── inviteCode.css

│   ├── growth/                 # 成长记录页相关文件

│   │   ├── growth.html

│   │   ├── growth.js

│   │   └── growth.css

│   ├── vaccine/                # 疫苗提醒页相关文件

│   │   ├── vaccine.html

│   │   ├── vaccine.js

│   │   └── vaccine.css

│   ├── about/                  # 关于我们页相关文件

│   │   ├── about.html

│   │   ├── about.js

│   │   └── about.css

│   └── help/                   # 帮助中心页相关文件

│       ├── help.html

│       ├── help.js

│       └── help.css

└── static/                     # 静态资源文件夹

&#x20;   ├── images/                 # 图片资源（默认头像、图标等）

&#x20;   └── css/                    # 全局样式文件

&#x20;       └── global.css          # 统一风格样式（温馨亲子风、暖色调）
```

> （注：文档部分内容可能由 AI 生成）