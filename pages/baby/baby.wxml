<view class="page">
  <!-- 隐藏的canvas用于颜色检测 -->
  <canvas type="2d" id="color-detector" style="width: 100rpx; height: 100rpx; position: absolute; left: -200rpx;"></canvas>
  
  <!-- 宝宝卡片区域 -->
  <view class="cards-container">
    <!-- 宝宝列表 -->
    <block wx:if="{{babyList.length > 0}}">
      <t-card 
        wx:for="{{babyList}}" 
        wx:key="childId" 
        class="baby-card"
        bindtap="onBabyCardTap"
        data-child-id="{{item.id}}"
      >
        <view slot="cover" class="baby-card-cover">
          <t-image 
            class="baby-image" 
            src="{{item.childCoverCroppedImg}}" 
            mode="aspectFill" 
            bindload="onImageLoad" 
          />
          <text class="baby-name-floating">{{item.childNickname}}</text>
        </view>
      </t-card>
    </block>
    
    <!-- 添加宝宝卡片（仅管理员可见） -->
    <view wx:if="{{isAdmin}}" class="add-baby-card" bindtap="onAddBaby">
      <view class="add-icon">+</view>
      <text class="add-text">添加宝宝</text>
    </view>
  </view>
  
  <t-toast id="toast" />
</view>
